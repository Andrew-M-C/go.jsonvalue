<font size=6>実験的機能</font>

[前のページ](./12_option.md) | [目次](./README.md) | [次のページ](./14_1_14_new_feature.md)

---

jsonvalue にはいくつかの実験的機能があります。以下のようにインポートしてください：

```go
import (
    "github.com/Andrew-M-C/go.jsonvalue/beta"
)
```

## Contains

v1.3.0 から、ある JSON 値が別の JSON 値のサブセットかどうかを確認する実験的関数 `Contains` を提供しています：

```go
func Contains(v *jsonvalue.V, sub any, inPath ...any) bool
```

この関数は、`v` がパス `inPath` においてサブセット `sub` を含んでいるかどうかを返します。`sub` は `New` のパラメータと同様に、任意の型を指定できます。

この関数は `inPath` パラメータによってサブ値を検索し（inPath が指定されていない場合は自身をチェック）、以下の順序でチェックを行います：

- 二つの値の型が異なる場合、`false` を返します。
- 配列またはオブジェクトでない場合、二つの値が等しいかどうかを返します。
- 配列型の場合、`sub` が `v` のサブ配列かどうかを返します。
- オブジェクト型の場合、`v` と `sub` の両方のすべてのサブ値を反復処理してチェックします：
  - `sub` が `v` に存在しないキーを含んでいる場合、`false` を返します
  - `v` と `sub` の両方が持っているが値が等しくないキーについては、それらに対して再帰的に `Contains` を呼び出します。すべての再帰が `true` を返した場合のみ、最終的に `true` が返されます。

## Import/Export

これらの二つの関数は v1.2.x から提供されていましたが、v1.3.x で正式機能となりました。jsonvalue パッケージで直接使用してください。
